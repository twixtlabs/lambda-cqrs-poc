"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.GenericAggregateEventMessage = void 0;
const uuid_1 = require("uuid");
const GenericEventMessage_1 = require("./GenericEventMessage");
/**
 * Generic implementation of {@link AggregateEventMessage}
 */
class GenericAggregateEventMessage extends GenericEventMessage_1.GenericEventMessage {
    constructor(type, payloadType, payload, aggregateIdentifier, sequenceNumber) {
        const now = Date.now();
        const identifier = uuid_1.v4();
        super(identifier, payloadType, payload, now);
        this.type = type;
        this.aggregateIdentifier = aggregateIdentifier;
        this.sequenceNumber = sequenceNumber;
    }
}
exports.GenericAggregateEventMessage = GenericAggregateEventMessage;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VuZXJpY0FnZ3JlZ2F0ZUV2ZW50TWVzc2FnZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tZXNzYWdpbmcvR2VuZXJpY0FnZ3JlZ2F0ZUV2ZW50TWVzc2FnZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwrQkFBa0M7QUFFbEMsK0RBQTREO0FBRzVEOztHQUVHO0FBQ0gsTUFBYSw0QkFBZ0MsU0FBUSx5Q0FBc0I7SUFJekUsWUFBWSxJQUFZLEVBQUUsV0FBbUIsRUFBRSxPQUFVLEVBQUUsbUJBQTJCLEVBQUUsY0FBc0I7UUFDNUcsTUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLE1BQU0sVUFBVSxHQUFHLFNBQUksRUFBRSxDQUFDO1FBQzFCLEtBQUssQ0FBQyxVQUFVLEVBQUUsV0FBVyxFQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsQ0FBQztRQUM3QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsbUJBQW1CLEdBQUcsbUJBQW1CLENBQUM7UUFDL0MsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDdkMsQ0FBQztDQUNGO0FBWkQsb0VBWUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB2NCBhcyB1dWlkIH0gZnJvbSBcInV1aWRcIjtcblxuaW1wb3J0IHsgR2VuZXJpY0V2ZW50TWVzc2FnZSB9IGZyb20gXCIuL0dlbmVyaWNFdmVudE1lc3NhZ2VcIjtcbmltcG9ydCB7IEFnZ3JlZ2F0ZUV2ZW50TWVzc2FnZSB9IGZyb20gXCIuL0FnZ3JlZ2F0ZUV2ZW50TWVzc2FnZVwiO1xuXG4vKipcbiAqIEdlbmVyaWMgaW1wbGVtZW50YXRpb24gb2Yge0BsaW5rIEFnZ3JlZ2F0ZUV2ZW50TWVzc2FnZX1cbiAqL1xuZXhwb3J0IGNsYXNzIEdlbmVyaWNBZ2dyZWdhdGVFdmVudE1lc3NhZ2U8VD4gZXh0ZW5kcyBHZW5lcmljRXZlbnRNZXNzYWdlPFQ+IGltcGxlbWVudHMgQWdncmVnYXRlRXZlbnRNZXNzYWdlPFQ+IHtcbiAgcHVibGljIHJlYWRvbmx5IGFnZ3JlZ2F0ZUlkZW50aWZpZXI6IHN0cmluZztcbiAgcHVibGljIHJlYWRvbmx5IHNlcXVlbmNlTnVtYmVyOiBudW1iZXI7XG4gIHB1YmxpYyByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gIGNvbnN0cnVjdG9yKHR5cGU6IHN0cmluZywgcGF5bG9hZFR5cGU6IHN0cmluZywgcGF5bG9hZDogVCwgYWdncmVnYXRlSWRlbnRpZmllcjogc3RyaW5nLCBzZXF1ZW5jZU51bWJlcjogbnVtYmVyKSB7XG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBpZGVudGlmaWVyID0gdXVpZCgpO1xuICAgIHN1cGVyKGlkZW50aWZpZXIsIHBheWxvYWRUeXBlLCBwYXlsb2FkLCBub3cpO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5hZ2dyZWdhdGVJZGVudGlmaWVyID0gYWdncmVnYXRlSWRlbnRpZmllcjtcbiAgICB0aGlzLnNlcXVlbmNlTnVtYmVyID0gc2VxdWVuY2VOdW1iZXI7XG4gIH1cbn1cbiJdfQ==