"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AbstractCommandHandler = void 0;
class AbstractCommandHandler {
    constructor({ logger, validator }) {
        this.LOG = logger;
        this.validator = validator;
    }
    // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-empty-function
    async preExecute(message) { }
    async postExecute(message, response) {
        return response;
    }
    async handleMessage(message) {
        await this.preExecute(message);
        const command = this.validator.transformAndValidate(message.payload);
        let response = await this.execute(command);
        response = await this.postExecute(message, response);
        return response;
    }
}
exports.AbstractCommandHandler = AbstractCommandHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWJzdHJhY3RDb21tYW5kSGFuZGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tZXNzYWdlaGFuZGxpbmcvaGFuZGxlci9BYnN0cmFjdENvbW1hbmRIYW5kbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQVFBLE1BQXNCLHNCQUFzQjtJQUkxQyxZQUFzQixFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQXNEO1FBQzdGLElBQUksQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO0lBQzdCLENBQUM7SUFJRCxtR0FBbUc7SUFDbkcsS0FBSyxDQUFDLFVBQVUsQ0FBQyxPQUEwQixJQUFrQixDQUFDO0lBRTlELEtBQUssQ0FBQyxXQUFXLENBQUMsT0FBMEIsRUFBRSxRQUFXO1FBQ3ZELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFDRCxLQUFLLENBQUMsYUFBYSxDQUFDLE9BQTBCO1FBQzVDLE1BQU0sSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUMvQixNQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLG9CQUFvQixDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNyRSxJQUFJLFFBQVEsR0FBTSxNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDOUMsUUFBUSxHQUFHLE1BQU0sSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsUUFBUSxDQUFDLENBQUM7UUFDckQsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQztDQUNGO0FBeEJELHdEQXdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1hbmQgfSBmcm9tIFwiLi4vLi4vY29tbWFuZFwiO1xuaW1wb3J0IHsgQ29tbWFuZE1lc3NhZ2UgfSBmcm9tIFwiLi4vLi4vbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tIFwiLi4vLi4vbG9nZ2luZ1wiO1xuXG5pbXBvcnQgeyBDb21tYW5kVmFsaWRhdG9yIH0gZnJvbSBcIi4uLy4uXCI7XG5cbmltcG9ydCB7IE1lc3NhZ2VIYW5kbGVyIH0gZnJvbSBcIi4uL01lc3NhZ2VIYW5kbGVyXCI7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBYnN0cmFjdENvbW1hbmRIYW5kbGVyPFAgZXh0ZW5kcyBDb21tYW5kLCBSPiBpbXBsZW1lbnRzIE1lc3NhZ2VIYW5kbGVyPENvbW1hbmRNZXNzYWdlPFA+LCBQLCBSPiB7XG4gIHByb3RlY3RlZCByZWFkb25seSBMT0c6IExvZ2dlcjtcbiAgcHJpdmF0ZSByZWFkb25seSB2YWxpZGF0b3I6IENvbW1hbmRWYWxpZGF0b3I8UD47XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKHsgbG9nZ2VyLCB2YWxpZGF0b3IgfTogeyBsb2dnZXI6IExvZ2dlcjsgdmFsaWRhdG9yOiBDb21tYW5kVmFsaWRhdG9yPFA+IH0pIHtcbiAgICB0aGlzLkxPRyA9IGxvZ2dlcjtcbiAgICB0aGlzLnZhbGlkYXRvciA9IHZhbGlkYXRvcjtcbiAgfVxuXG4gIGFic3RyYWN0IGV4ZWN1dGUoY29tbWFuZDogUCk6IFByb21pc2U8Uj47XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFycywgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gIGFzeW5jIHByZUV4ZWN1dGUobWVzc2FnZTogQ29tbWFuZE1lc3NhZ2U8UD4pOiBQcm9taXNlPHZvaWQ+IHt9XG5cbiAgYXN5bmMgcG9zdEV4ZWN1dGUobWVzc2FnZTogQ29tbWFuZE1lc3NhZ2U8UD4sIHJlc3BvbnNlOiBSKTogUHJvbWlzZTxSPiB7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG4gIGFzeW5jIGhhbmRsZU1lc3NhZ2UobWVzc2FnZTogQ29tbWFuZE1lc3NhZ2U8UD4pOiBQcm9taXNlPFI+IHtcbiAgICBhd2FpdCB0aGlzLnByZUV4ZWN1dGUobWVzc2FnZSk7XG4gICAgY29uc3QgY29tbWFuZCA9IHRoaXMudmFsaWRhdG9yLnRyYW5zZm9ybUFuZFZhbGlkYXRlKG1lc3NhZ2UucGF5bG9hZCk7XG4gICAgbGV0IHJlc3BvbnNlOiBSID0gYXdhaXQgdGhpcy5leGVjdXRlKGNvbW1hbmQpO1xuICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5wb3N0RXhlY3V0ZShtZXNzYWdlLCByZXNwb25zZSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9XG59XG4iXX0=