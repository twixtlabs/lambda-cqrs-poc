"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.DynamoDbStreamRecordHandlerAdapter = void 0;
/**
 * Adapter for handling records in dynamodb stream
 */
class DynamoDbStreamRecordHandlerAdapter {
    supports(message) {
        return (Object.prototype.hasOwnProperty.call(message, "aggregateIdentifier") &&
            Object.prototype.hasOwnProperty.call(message, "sequenceNumber") &&
            Object.prototype.hasOwnProperty.call(message, "payloadType") &&
            Object.prototype.hasOwnProperty.call(message, "payload"));
    }
    async handle(message, handler) {
        return await handler.handleMessage(message);
    }
}
exports.DynamoDbStreamRecordHandlerAdapter = DynamoDbStreamRecordHandlerAdapter;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRHluYW1vRGJTdHJlYW1SZWNvcmRIYW5kbGVyQWRhcHRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9tZXNzYWdlaGFuZGxpbmcvYWRhcHRlci9EeW5hbW9EYlN0cmVhbVJlY29yZEhhbmRsZXJBZGFwdGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQU1BOztHQUVHO0FBQ0gsTUFBYSxrQ0FBa0M7SUFDN0MsUUFBUSxDQUFDLE9BQWdDO1FBQ3ZDLE9BQU8sQ0FDTCxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLHFCQUFxQixDQUFDO1lBQ3BFLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsZ0JBQWdCLENBQUM7WUFDL0QsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7WUFDNUQsTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsQ0FDekQsQ0FBQztJQUNKLENBQUM7SUFDRCxLQUFLLENBQUMsTUFBTSxDQUNWLE9BQWtDLEVBQ2xDLE9BQStEO1FBRS9ELE9BQU8sTUFBTSxPQUFPLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlDLENBQUM7Q0FDRjtBQWZELGdGQWVDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSGFuZGxlckFkYXB0ZXIgfSBmcm9tIFwiLi4vSGFuZGxlckFkYXB0ZXJcIjtcbmltcG9ydCB7IERvbWFpbkV2ZW50TWVzc2FnZSwgR2VuZXJpY0RvbWFpbkV2ZW50TWVzc2FnZSB9IGZyb20gXCIuLi8uLi9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IE1lc3NhZ2VIYW5kbGVyIH0gZnJvbSBcIi4uL01lc3NhZ2VIYW5kbGVyXCI7XG5pbXBvcnQgKiBhcyBsYW1iZGEgZnJvbSBcImF3cy1sYW1iZGFcIjtcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSBcIi4uLy4uL2V2ZW50XCI7XG5cbi8qKlxuICogQWRhcHRlciBmb3IgaGFuZGxpbmcgcmVjb3JkcyBpbiBkeW5hbW9kYiBzdHJlYW1cbiAqL1xuZXhwb3J0IGNsYXNzIER5bmFtb0RiU3RyZWFtUmVjb3JkSGFuZGxlckFkYXB0ZXIgaW1wbGVtZW50cyBIYW5kbGVyQWRhcHRlciB7XG4gIHN1cHBvcnRzKG1lc3NhZ2U6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlLCBcImFnZ3JlZ2F0ZUlkZW50aWZpZXJcIikgJiZcbiAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtZXNzYWdlLCBcInNlcXVlbmNlTnVtYmVyXCIpICYmXG4gICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobWVzc2FnZSwgXCJwYXlsb2FkVHlwZVwiKSAmJlxuICAgICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1lc3NhZ2UsIFwicGF5bG9hZFwiKVxuICAgICk7XG4gIH1cbiAgYXN5bmMgaGFuZGxlKFxuICAgIG1lc3NhZ2U6IERvbWFpbkV2ZW50TWVzc2FnZTxFdmVudD4sXG4gICAgaGFuZGxlcjogTWVzc2FnZUhhbmRsZXI8RG9tYWluRXZlbnRNZXNzYWdlPEV2ZW50PiwgRXZlbnQsIHZvaWQ+LFxuICApOiBQcm9taXNlPHVua25vd24+IHtcbiAgICByZXR1cm4gYXdhaXQgaGFuZGxlci5oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG59XG4iXX0=